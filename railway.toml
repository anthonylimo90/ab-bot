# Railway Configuration for AB-Bot Trading Platform
# https://docs.railway.com/reference/config-as-code

# ============================================
# API Server Service
# ============================================
[services.api-server.build]
builder = "dockerfile"
dockerfilePath = "./Dockerfile"

[services.api-server.deploy]
healthcheckPath = "/health"
healthcheckTimeout = 120
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
numReplicas = 1

# ============================================
# Arb Monitor Service
# ============================================
[services.arb-monitor.build]
builder = "dockerfile"
dockerfilePath = "./Dockerfile.arb-monitor"

[services.arb-monitor.deploy]
healthcheckPath = ""
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
numReplicas = 1

# ============================================
# Dashboard Service
# ============================================
[services.dashboard.build]
builder = "dockerfile"
dockerfilePath = "./Dockerfile.dashboard"

[services.dashboard.deploy]
healthcheckPath = "/"
healthcheckTimeout = 120
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5
numReplicas = 1
